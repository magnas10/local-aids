# Local-AIDS Deployment Guide

## Prerequisites
- GitHub account
- Render account (free tier available at https://render.com)

## Deployment Steps

### 1. Push to GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin <your-github-repo-url>
git push -u origin main
```

### 2. Deploy to Render

1. **Sign in to Render**: Go to https://render.com and sign in
2. **Create New Blueprint**: 
   - Click "New +" → "Blueprint"
   - Connect your GitHub repository
   - Render will automatically detect `render.yaml`
3. **Configure Environment Variables**:
   - `CLIENT_URL`: Will be `https://local-aid-frontend.onrender.com` (update after frontend deploys)
   - `JWT_SECRET`: Auto-generated by Render
   - `REACT_APP_API_URL`: Will be `https://local-aid-api.onrender.com/api`

4. **Deploy**: Click "Apply" to start deployment

### 3. Update URLs After Deployment

Once deployed, you'll get two URLs:
- Backend API: `https://local-aid-api.onrender.com`
- Frontend: `https://local-aid-frontend.onrender.com`

**Update the following:**

1. In Render Dashboard → Backend Service → Environment:
   - Set `CLIENT_URL` to your frontend URL

2. In Render Dashboard → Frontend Service → Environment:
   - Verify `REACT_APP_API_URL` points to your backend URL

### 4. Seed the Database (Optional)

After deployment, you can seed the database using Render Shell:
1. Go to your backend service in Render Dashboard
2. Click "Shell" tab
3. Run: `npm run seed`

## Important Notes

- **Free Tier Limitations**: 
  - Services spin down after 15 minutes of inactivity
  - First request after spin-down may take 30-60 seconds
  - Database limited to 90 days on free tier

- **Environment Variables**: 
  - Never commit `.env` files with sensitive data
  - Use Render's environment variable management

- **Database**: 
  - PostgreSQL database is automatically created
  - Connection string is auto-injected as `DATABASE_URL`

## Custom Domain (Optional)

To use a custom domain:
1. Go to Settings in your Render service
2. Add custom domain
3. Update DNS records with your domain provider

## Monitoring

- View logs in Render Dashboard → Your Service → Logs
- Monitor service health in Dashboard

## Troubleshooting

If deployment fails:
1. Check build logs in Render Dashboard
2. Verify all dependencies are in `package.json`
3. Ensure environment variables are set correctly
4. Check that `render.yaml` paths are correct

## Alternative: Firebase Hosting (Frontend Only)

If you prefer to host the frontend on Firebase:

```bash
npm install -g firebase-tools
firebase login
npm run build
firebase deploy
```

Then update `CLIENT_URL` in Render to your Firebase URL.
